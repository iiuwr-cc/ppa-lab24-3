i = 0;
end = 0;
xs = &end;
while (i < n) {
    head = malloc;
    *head = xs;
    xs = head;
    i = i + 1;
}
